<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clipboard Database</title>
    <style>
        /* 基本設定 */
        body {
            font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            background-color: #f5f5f7;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
            margin: 0;
            color: #333;
        }

        h1 {
            margin-bottom: 30px;
            font-size: 24px;
            color: #444;
        }

        /* データベース（リスト）のコンテナ */
        #db-container {
            width: 100%;
            max-width: 800px; /* ボックスの最大幅 */
            display: flex;
            flex-direction: column;
            gap: 16px; /* カード間の隙間 */
        }

        /* 個別のカードデザイン */
        .card {
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* 添付画像のような影 */
            display: flex;
            align-items: center;
            padding: 20px;
            transition: transform 0.2s ease;
            border: 1px solid #eaeaea;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
        }

        /* 左側のテキストエリア */
        .content-area {
            flex: 1; /* 余ったスペースを埋める */
            margin-right: 20px;
            min-width: 0; /* フレックスアイテムの縮小バグ防止 */
        }

        /* ヘッダー部分（タイトル・日付・説明） */
        .header-row {
            display: flex;
            align-items: baseline;
            flex-wrap: wrap;
            margin-bottom: 6px;
            gap: 10px;
        }

        .card-title {
            font-size: 18px;
            font-weight: 700;
            color: #222;
            margin: 0;
        }

        .card-desc {
            font-size: 13px;
            color: #666;
            padding-left: 10px;
            border-left: 1px solid #ddd;
            line-height: 1;
        }

        .card-date {
            font-size: 12px;
            color: #999;
            margin-left: auto; /* 右寄せ */
        }

        /* プレビューエリア（3行制限とフェードアウト） */
        .data-preview {
            font-size: 14px;
            color: #555;
            background-color: #f9f9f9;
            padding: 8px 12px;
            border-radius: 6px;
            line-height: 1.5;
            
            /* --- 3行制限の魔法 --- */
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            /* ------------------- */

            position: relative;
            font-family: 'Courier New', monospace; /* データっぽく等幅フォント */
            word-break: break-all;
        }
        
        /* 下部を少し白くぼかす演出（添付画像のイメージ） */
        .data-preview::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 20px;
            background: linear-gradient(to bottom, transparent, #f9f9f9);
            pointer-events: none;
        }

        /* 右側のボタンエリア */
        .action-area {
            flex-shrink: 0;
        }

        .copy-btn {
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 6px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #333;
            transition: all 0.2s;
            user-select: none;
        }

        .copy-btn:hover {
            background-color: #f0f0f0;
            border-color: #bbb;
        }

        .copy-btn:active {
            background-color: #e0e0e0;
            transform: scale(0.98);
        }

        /* コピー成功時のスタイル */
        .copy-btn.copied {
            background-color: #333;
            color: #fff;
            border-color: #333;
        }
    </style>
</head>
<body>

    <h1>Clipboard Database</h1>
    <div id="db-container">
        </div>

    <script>
        // ==========================================
        //  【設定エリア】 データをここで編集してください
        // ==========================================
        const database = [
            {
                title: "API Key (Read Only)",
                date: "2026/02/17",
                desc: "開発環境用の読み取り専用キー",
                // 実際にコピーされる内容（プレビューにも表示されます）
                content: "ssaddsasdasaddsads"
            },
            {
                title: "SQL Query template",
                date: "2025/11/05",
                desc: "ユーザー集計用の基本クエリ",
                content: "SELECT id, name, email, created_at FROM users WHERE status = 'active' AND last_login > '2024-01-01' ORDER BY created_at DESC LIMIT 100;"
            },
            {
                title: "Lorem Ipsum Data",
                date: "2024/08/20",
                desc: "デザイン確認用のダミーテキスト",
                content: "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."
            },
            {
                title: "JSON Config",
                date: "2024/01/15",
                desc: "サーバー設定ファイルのテンプレート",
                content: `{\n  "server": "nginx",\n  "port": 8080,\n  "root": "/var/www/html",\n  "locations": [\n    {\n      "path": "/",\n      "try_files": "$uri $uri/ /index.html"\n    }\n  ]\n}`
            }
        ];
        // ==========================================

        const container = document.getElementById('db-container');

        // データベースの内容をHTMLに変換して表示
        database.forEach((item, index) => {
            const card = document.createElement('div');
            card.className = 'card';

            card.innerHTML = `
                <div class="content-area">
                    <div class="header-row">
                        <h2 class="card-title">${item.title}</h2>
                        <span class="card-desc">${item.desc}</span>
                        <span class="card-date">${item.date}</span>
                    </div>
                    <div class="data-preview">${escapeHtml(item.content)}</div>
                </div>
                <div class="action-area">
                    <button class="copy-btn" onclick="copyToClipboard(this, ${index})">Copy</button>
                </div>
            `;
            container.appendChild(card);
        });

        // XSS対策用エスケープ関数
        function escapeHtml(text) {
            return text
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }

        // コピー機能
        function copyToClipboard(button, index) {
            const textToCopy = database[index].content;
            
            navigator.clipboard.writeText(textToCopy).then(() => {
                // 成功時のフィードバック
                const originalText = button.innerText;
                button.innerText = "Copied!";
                button.classList.add("copied");

                // 2秒後に元の状態に戻す
                setTimeout(() => {
                    button.innerText = originalText;
                    button.classList.remove("copied");
                }, 2000);
            }).catch(err => {
                console.error('コピーに失敗しました:', err);
                alert('コピーに失敗しました');
            });
        }
    </script>
</body>
</html>
